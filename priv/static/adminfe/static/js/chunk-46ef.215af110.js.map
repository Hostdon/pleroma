{"version":3,"sources":["webpack:///./src/views/invites/index.vue?95fc","webpack:///./src/views/invites/index.vue?b523","webpack:///src/views/invites/index.vue","webpack:///./src/views/invites/index.vue","webpack:///./src/views/invites/index.vue?0fc1"],"names":["views_invitesvue_type_script_lang_js_","data","rules","email","validator","this","validateEmail","trigger","newTokenForm","maxUse","expiresAt","inviteUserForm","name","createTokenDialogVisible","inviteUserDialogVisible","computed","getLabelWidth","isDesktop","$store","state","app","device","loading","invites","newToken","tokens","inviteTokens","mounted","dispatch","methods","closeDialogWindow","$data","createToken","inviteUserViaEmail","_inviteUserViaEmail","asyncToGenerator_default","regenerator_default","a","mark","_callee2","_this","wrap","_context2","prev","next","$refs","validate","_ref","_callee","valid","_context","$message","type","message","$t","abrupt","stop","_x","apply","arguments","revokeInviteToken","token","rule","value","callback","Error","validEmail","test","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","on","click","$event","attrs","visible","show-close","title","custom-class","update:visible","ref","model","label-width","status-icon","label","min","size","$$v","$set","expression","placeholder","value-format","slot","_e","prop","autofocus","directives","rawName","default-sort","order","min-width","sortable","align","header-align","scopedSlots","_u","key","fn","scope","row","used","disable-transitions","nativeOn","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_11_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_2_node_modules_sass_loader_lib_loader_js_ref_11_3_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_rel_stylesheet_2Fscss_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"static/js/chunk-46ef.215af110.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"invites-container\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('invites.inviteTokens')))]),_vm._v(\" \"),_c('div',{staticClass:\"actions-container\"},[_c('el-button',{staticClass:\"create-invite-token\",on:{\"click\":function($event){_vm.createTokenDialogVisible = true}}},[_c('span',[_c('i',{staticClass:\"icon el-icon-plus\"}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('invites.createInviteToken'))+\"\\n      \")])]),_vm._v(\" \"),_c('el-button',{staticClass:\"invite-via-email\",on:{\"click\":function($event){_vm.inviteUserDialogVisible = true}}},[_c('span',[_c('i',{staticClass:\"icon el-icon-message\"}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('invites.inviteUserViaEmail'))+\"\\n      \")])])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.createTokenDialogVisible,\"show-close\":false,\"title\":_vm.$t('invites.createInviteToken'),\"custom-class\":\"create-new-token-dialog\"},on:{\"update:visible\":function($event){_vm.createTokenDialogVisible=$event}}},[_c('el-form',{ref:\"newTokenForm\",attrs:{\"model\":_vm.newTokenForm,\"label-width\":_vm.getLabelWidth,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('invites.maxUse')}},[_c('el-input-number',{attrs:{\"min\":0,\"size\":_vm.isDesktop ? 'medium' : 'small',\"name\":\"maxUse\"},model:{value:(_vm.newTokenForm.maxUse),callback:function ($$v) {_vm.$set(_vm.newTokenForm, \"maxUse\", $$v)},expression:\"newTokenForm.maxUse\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('invites.expiresAt')}},[_c('el-date-picker',{staticClass:\"pick-date\",attrs:{\"placeholder\":_vm.$t('invites.pickDate'),\"type\":\"date\",\"name\":\"date\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.newTokenForm.expiresAt),callback:function ($$v) {_vm.$set(_vm.newTokenForm, \"expiresAt\", $$v)},expression:\"newTokenForm.expiresAt\"}})],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialogWindow}},[_vm._v(_vm._s(_vm.$t('invites.cancel')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createToken}},[_vm._v(_vm._s(_vm.$t('invites.create')))])],1),_vm._v(\" \"),('token' in _vm.newToken)?_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('invites.tokenCreated')))])]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(this.$t('invites.token'))+\": \"+_vm._s(_vm.newToken.token))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(this.$t('invites.maxUse'))+\": \"+_vm._s(_vm.newToken.maxUse))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(this.$t('invites.expiresAt'))+\": \"+_vm._s(_vm.newToken.expiresAt))])]):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.inviteUserDialogVisible,\"show-close\":false,\"title\":_vm.$t('invites.sendRegistration'),\"custom-class\":\"invite-via-email-dialog\"},on:{\"update:visible\":function($event){_vm.inviteUserDialogVisible=$event}}},[_c('div',[_c('p',{staticClass:\"info\"},[_vm._v(_vm._s(_vm.$t('invites.inviteViaEmailAlert')))]),_vm._v(\" \"),_c('el-form',{ref:\"inviteUserForm\",attrs:{\"model\":_vm.inviteUserForm,\"rules\":_vm.rules,\"label-width\":_vm.getLabelWidth,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('invites.email'),\"prop\":\"email\"}},[_c('el-input',{attrs:{\"name\":\"email\",\"type\":\"email\",\"autofocus\":\"\"},model:{value:(_vm.inviteUserForm.email),callback:function ($$v) {_vm.$set(_vm.inviteUserForm, \"email\", $$v)},expression:\"inviteUserForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('invites.name'),\"prop\":\"name\"}},[_c('el-input',{attrs:{\"name\":\"name\"},model:{value:(_vm.inviteUserForm.name),callback:function ($$v) {_vm.$set(_vm.inviteUserForm, \"name\", $$v)},expression:\"inviteUserForm.name\"}})],1)],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialogWindow}},[_vm._v(_vm._s(_vm.$t('invites.cancel')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.inviteUserViaEmail}},[_vm._v(_vm._s(_vm.$t('invites.create')))])],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"invite-token-table\",attrs:{\"data\":_vm.tokens,\"default-sort\":{prop: 'used', order: 'ascending'}}},[(_vm.isDesktop)?_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.id'),\"min-width\":\"60\",\"prop\":\"id\",\"sortable\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.token'),\"min-width\":_vm.isDesktop ? 320 : 120,\"prop\":\"token\"}}),_vm._v(\" \"),(_vm.isDesktop)?_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.expiresAt'),\"align\":\"center\",\"header-align\":\"center\",\"min-width\":\"110\",\"prop\":\"expires_at\",\"sortable\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.maxUse'),\"align\":\"center\",\"header-align\":\"center\",\"min-width\":\"60\",\"prop\":\"max_use\",\"sortable\":\"\"}}),_vm._v(\" \"),(_vm.isDesktop)?_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.uses'),\"align\":\"center\",\"header-align\":\"center\",\"min-width\":\"60\",\"prop\":\"uses\"}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.used'),\"min-width\":_vm.isDesktop ? 60 : 50,\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"used\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.used ? 'danger' : 'success',\"disable-transitions\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(scope.row.used ? _vm.$t('invites.used') : _vm.$t('invites.active'))+\"\\n        \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('invites.actions'),\"min-width\":_vm.isDesktop ? 100 : 50,\"align\":\"center\",\"header-align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){return _vm.revokeInviteToken(scope.row.token)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('invites.revoke'))+\"\\n        \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"invites-container\">\n    <h1>{{ $t('invites.inviteTokens') }}</h1>\n    <div class=\"actions-container\">\n      <el-button class=\"create-invite-token\" @click=\"createTokenDialogVisible = true\">\n        <span>\n          <i class=\"icon el-icon-plus\"/>\n          {{ $t('invites.createInviteToken') }}\n        </span>\n      </el-button>\n      <el-button class=\"invite-via-email\" @click=\"inviteUserDialogVisible = true\">\n        <span>\n          <i class=\"icon el-icon-message\"/>\n          {{ $t('invites.inviteUserViaEmail') }}\n        </span>\n      </el-button>\n    </div>\n    <el-dialog\n      :visible.sync=\"createTokenDialogVisible\"\n      :show-close=\"false\"\n      :title=\"$t('invites.createInviteToken')\"\n      custom-class=\"create-new-token-dialog\">\n      <el-form ref=\"newTokenForm\" :model=\"newTokenForm\" :label-width=\"getLabelWidth\" status-icon>\n        <el-form-item :label=\"$t('invites.maxUse')\">\n          <el-input-number\n            v-model=\"newTokenForm.maxUse\"\n            :min=\"0\"\n            :size=\"isDesktop ? 'medium' : 'small'\"\n            name=\"maxUse\"/>\n        </el-form-item>\n        <el-form-item :label=\"$t('invites.expiresAt')\">\n          <el-date-picker\n            v-model=\"newTokenForm.expiresAt\"\n            :placeholder=\"$t('invites.pickDate')\"\n            class=\"pick-date\"\n            type=\"date\"\n            name=\"date\"\n            value-format=\"yyyy-MM-dd\"/>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button @click=\"closeDialogWindow\">{{ $t('invites.cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"createToken\">{{ $t('invites.create') }}</el-button>\n      </span>\n      <el-card v-if=\"'token' in newToken\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{ $t('invites.tokenCreated') }}</span>\n        </div>\n        <p>{{ this.$t('invites.token') }}: {{ newToken.token }}</p>\n        <p>{{ this.$t('invites.maxUse') }}: {{ newToken.maxUse }}</p>\n        <p>{{ this.$t('invites.expiresAt') }}: {{ newToken.expiresAt }}</p>\n      </el-card>\n    </el-dialog>\n    <el-dialog\n      :visible.sync=\"inviteUserDialogVisible\"\n      :show-close=\"false\"\n      :title=\"$t('invites.sendRegistration')\"\n      custom-class=\"invite-via-email-dialog\">\n      <div>\n        <p class=\"info\">{{ $t('invites.inviteViaEmailAlert') }}</p>\n        <el-form ref=\"inviteUserForm\" :model=\"inviteUserForm\" :rules=\"rules\" :label-width=\"getLabelWidth\" status-icon>\n          <el-form-item :label=\"$t('invites.email')\" prop=\"email\">\n            <el-input v-model=\"inviteUserForm.email\" name=\"email\" type=\"email\" autofocus/>\n          </el-form-item>\n          <el-form-item :label=\"$t('invites.name')\" prop=\"name\">\n            <el-input v-model=\"inviteUserForm.name\" name=\"name\"/>\n          </el-form-item>\n        </el-form>\n      </div>\n      <span slot=\"footer\">\n        <el-button @click=\"closeDialogWindow\">{{ $t('invites.cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"inviteUserViaEmail\">{{ $t('invites.create') }}</el-button>\n      </span>\n    </el-dialog>\n    <el-table\n      v-loading=\"loading\"\n      :data=\"tokens\"\n      :default-sort = \"{prop: 'used', order: 'ascending'}\"\n      class=\"invite-token-table\">\n      <el-table-column\n        v-if=\"isDesktop\"\n        :label=\"$t('invites.id')\"\n        min-width=\"60\"\n        prop=\"id\"\n        sortable/>\n      <el-table-column\n        :label=\"$t('invites.token')\"\n        :min-width=\"isDesktop ? 320 : 120\"\n        prop=\"token\"/>\n      <el-table-column\n        v-if=\"isDesktop\"\n        :label=\"$t('invites.expiresAt')\"\n        align=\"center\"\n        header-align=\"center\"\n        min-width=\"110\"\n        prop=\"expires_at\"\n        sortable/>\n      <el-table-column\n        :label=\"$t('invites.maxUse')\"\n        align=\"center\"\n        header-align=\"center\"\n        min-width=\"60\"\n        prop=\"max_use\"\n        sortable/>\n      <el-table-column\n        v-if=\"isDesktop\"\n        :label=\"$t('invites.uses')\"\n        align=\"center\"\n        header-align=\"center\"\n        min-width=\"60\"\n        prop=\"uses\"/>\n      <el-table-column\n        :label=\"$t('invites.used')\"\n        :min-width=\"isDesktop ? 60 : 50\"\n        align=\"center\"\n        header-align=\"center\"\n        prop=\"used\"\n        sortable>\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row.used ? 'danger' : 'success'\"\n            disable-transitions>\n            {{ scope.row.used ? $t('invites.used') : $t('invites.active') }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('invites.actions')\"\n        :min-width=\"isDesktop ? 100 : 50\"\n        align=\"center\"\n        header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" @click.native=\"revokeInviteToken(scope.row.token)\">\n            {{ $t('invites.revoke') }}\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      rules: {\n        email: [\n          { validator: this.validateEmail, trigger: 'blur' }\n        ]\n      },\n      newTokenForm: {\n        maxUse: 1,\n        expiresAt: ''\n      },\n      inviteUserForm: {\n        email: '',\n        name: ''\n      },\n      createTokenDialogVisible: false,\n      inviteUserDialogVisible: false\n    }\n  },\n  computed: {\n    getLabelWidth() {\n      return this.isDesktop ? '100px' : '80px'\n    },\n    isDesktop() {\n      return this.$store.state.app.device === 'desktop'\n    },\n    loading() {\n      return this.$store.state.invites.loading\n    },\n    newToken() {\n      return this.$store.state.invites.newToken\n    },\n    tokens() {\n      return this.$store.state.invites.inviteTokens\n    }\n  },\n  mounted() {\n    this.$store.dispatch('FetchInviteTokens')\n  },\n  methods: {\n    closeDialogWindow() {\n      this.inviteUserDialogVisible = false\n      this.createTokenDialogVisible = false\n      this.$store.dispatch('RemoveNewToken')\n      this.$data.inviteUserForm.email = ''\n      this.$data.inviteUserForm.name = ''\n    },\n    createToken() {\n      this.$store.dispatch('GenerateInviteToken', this.$data.newTokenForm)\n    },\n    async inviteUserViaEmail() {\n      this.$refs['inviteUserForm'].validate(async(valid) => {\n        if (valid) {\n          await this.$store.dispatch('InviteUserViaEmail', this.$data.inviteUserForm)\n          this.closeDialogWindow()\n        } else {\n          this.$message({\n            type: 'error',\n            message: this.$t('invites.submitFormError')\n          })\n          return false\n        }\n      })\n    },\n    revokeInviteToken(token) {\n      this.$store.dispatch('RevokeToken', token)\n    },\n    validateEmail(rule, value, callback) {\n      if (value === '') {\n        return callback(new Error(this.$t('invites.emptyEmailError')))\n      } else if (!this.validEmail(value)) {\n        return callback(new Error(this.$t('invites.invalidEmailError')))\n      } else {\n        return callback()\n      }\n    },\n    validEmail(email) {\n      const re = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/\n      return re.test(email)\n    }\n  }\n}\n</script>\n\n<style rel='stylesheet/scss' lang='scss'>\n.invites-container {\n  .actions-container {\n    display: flex;\n    height: 36px;\n    justify-content: space-between;\n    align-items: center;\n    margin: 20px 15px 15px 15px;\n  }\n  .create-invite-token {\n    text-align: left;\n    width: 350px;\n    padding: 10px;\n  }\n  .create-new-token-dialog {\n    width: 40%\n  }\n  .el-dialog__body {\n    padding: 5px 20px 0 20px\n  }\n  h1 {\n    margin: 22px 0 0 15px;\n  }\n  .icon {\n    margin-right: 5px;\n  }\n  .invite-token-table {\n    width: 100%;\n    margin: 0 15px;\n  }\n  .invite-via-email {\n    text-align: left;\n    width: 350px;\n    padding: 10px;\n  }\n  .invite-via-email-dialog {\n    width: 50%\n  }\n  .info {\n    color: #666666;\n    font-size: 13px;\n    line-height: 22px;\n    margin: 0 0 10px 0;\n  }\n}\n\n@media only screen and (max-width:480px) {\n  .invites-container {\n    .actions-container {\n      display: flex;\n      height: 82px;\n      flex-direction: column;\n      align-items: center;\n      margin: 15px 10px 7px 10px;\n    }\n    .cell {\n      padding: 0;\n    }\n    .create-invite-token {\n      width: 100%;\n    }\n    .create-new-token-dialog {\n      width: 85%\n    }\n    .el-date-editor {\n      width: 150px;\n    }\n    .el-dialog__body {\n      padding: 5px 15px 0 15px\n    }\n    h1 {\n      margin: 7px 10px 15px 10px;\n    }\n    .invite-token-table {\n      width: 100%;\n      margin: 0 5px;\n      font-size: 12px;\n      font-weight: 500;\n    }\n    .invite-via-email {\n      width: 100%;\n      margin: 10px 0 0 0;\n    }\n    .invite-via-email-dialog {\n      width: 85%\n    }\n    .info {\n      margin: 0 0 10px 5px;\n    }\n    th {\n      .cell {\n        padding: 0;\n      }\n    }\n  }\n  .create-invite-token {\n    width: 100%\n  }\n  .invite-via-email {\n    width: 100%\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3b907e53&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\""],"sourceRoot":""}